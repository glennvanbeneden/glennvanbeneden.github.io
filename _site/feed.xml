<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.2">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2023-03-30T23:53:36+02:00</updated><id>/feed.xml</id><title type="html">Glenn Van Beneden’s blog</title><subtitle>Glenn Van Beneden&apos;s blog</subtitle><entry><title type="html">Using Microsoft’s commandline utility package</title><link href="/development/2023/03/30/system-commandline.html" rel="alternate" type="text/html" title="Using Microsoft’s commandline utility package" /><published>2023-03-30T00:00:00+02:00</published><updated>2023-03-30T00:00:00+02:00</updated><id>/development/2023/03/30/system-commandline</id><content type="html" xml:base="/development/2023/03/30/system-commandline.html">&lt;p&gt;As I was experimenting with trying to write a CLI application using a Command Line Parser, I stumbled on Microsoft’s System.CommandLine package.
This package is currently in prerelease and can be added with the following command.&lt;/p&gt;

&lt;p&gt;Let’s start with a simple program&lt;/p&gt;

&lt;div class=&quot;language-csharp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;command&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;RootCommand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nameOption&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;--name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;The name of the person to greet.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nameOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;SetHandler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;WriteLine&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;$&quot;Hello, &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nameOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;InvokeAsync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The first thing you got to do is define a root command&lt;/p&gt;

&lt;div class=&quot;language-csharp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rootCommand&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;RootCommand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Under the root command you have several methods to add an argument, an option, a command, … however you can simply use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Add()&lt;/code&gt; method which takes any of the types as an argument.
Since we want to provide a name as an option we need to define it and add it as part of the root command in our case. However if you want to provide it as an option to one of your subcommand, you need to add it to that command in particular.&lt;/p&gt;

&lt;p&gt;To assign a handler function to a particular command, we use the SetHandler function, which expects an Action delegate as its argument. We also pass in an option as the second argument, so that we can use the value of the option as an input parameter to the handler function.&lt;/p&gt;

&lt;p&gt;Last but not least, we need to use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;InvokeAsync()&lt;/code&gt; method on the root command to start using the parser&lt;/p&gt;

&lt;h1 id=&quot;whats-the-difference-between-an-option-and-an-argument&quot;&gt;What’s the difference between an option and an argument?&lt;/h1&gt;
&lt;p&gt;When working with command-line interfaces (CLI), it’s important to understand the difference between options and arguments. Both options and arguments are used to provide additional information to a command, but they have different purposes and usage.&lt;/p&gt;

&lt;p&gt;An option is a command-line flag that modifies the behavior of a command. Options typically start with a hyphen (-) or two hyphens (–), followed by a short or long name. For example, in the command ls -l, the -l option tells the ls command to display the output in long format. Options can be used to enable or disable certain features, set configuration parameters, or specify input or output options.&lt;/p&gt;

&lt;p&gt;Options can also have arguments associated with them. An argument is a value that follows an option and provides additional information to the command. For example, in the command grep -i hello file.txt, the -i option tells the grep command to perform a case-insensitive search, and the hello argument specifies the search pattern. In some cases, options can take multiple arguments, separated by commas or spaces.&lt;/p&gt;

&lt;p&gt;On the other hand, an argument is a value that specifies the target of a command or operation. Arguments typically come after the command and options and can be positional or named. Positional arguments are specified by their position in the command line, while named arguments are specified by their name or a keyword. For example, in the command git commit -m “Add new feature”, the commit command takes a positional argument that specifies the action to perform, and the -m option takes a named argument that specifies the commit message.&lt;/p&gt;</content><author><name></name></author><category term="development" /><summary type="html">As I was experimenting with trying to write a CLI application using a Command Line Parser, I stumbled on Microsoft’s System.CommandLine package. This package is currently in prerelease and can be added with the following command.</summary></entry></feed>